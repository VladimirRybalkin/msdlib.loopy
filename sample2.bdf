host cpp
board virtex6ml605
project mhs


// gpio components
gpio in button {:
  send_gpio(gpo_buttons, read_buttons());
:}

gpio in switch
gpio in led

// queue sizes
swqueue 25
hwqueue 10

medium ethernet {
  mac  "00:0a:35:00:01:02"
  ip   "192.168.2.10"
  mask "255.255.255.0"
  gate "192.168.1.1"
  port 8844
}

core rng 1.00.a {
  source "sample2.bdf"

  port in in1 {
    width 32
  }
  port out out1
} 

core adder 1.00.a {
  source "sample2.bdf"

  port in in1
  port in in2
  port out out1
} 

core fifo 1.00.a {
  source "sample2.bdf"

  port in in1
  port out out1
}

// instantiate cores
instance rng rng_a {
  cpu in1 {
    swqueue 10
    hwqueue  5
  }
  cpu out1 {
    poll
  }
}

instance rng rng_b {
  cpu in1, out1
}

instance adder adder_a {
  cpu in1, in2, out1
}

instance fifo fifo_a {
  cpu in1, out1
}


scheduler {:
  //plain code... no analysis takes place here. Maybe print a warning, that no guarantees are given for this scheduler
:}
